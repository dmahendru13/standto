<script src="/e2/js/rv7/3rdparty/sjs/simple-jekyll-search.js"></script>
<script src="/e2/js/rv7/3rdparty/sjs/simple-jekyll-search.min.js"></script>

{% include base.html %}

<script>
    $(document).ready(function () {
        const archiveSearch = document.querySelector('.stand-to .archive-search-input');
        //const filter = archiveSearch.value.toUpperCase();
        const base = document.querySelector('.stand-to #archive-results');
        //const search = document.querySelector('.stand-to #results-container');

        $(archiveSearch).on('keyup', function (e) {
            let baseVeritas = (veritas) => {
                if (!veritas) {
                    $(base).addClass('hidden')
                } else {
                    $(base).removeClass('hidden')
                }
            }
            if (!e) {
                e = window.event;
            }
            let tart = () => {
                let inputSearch = false;
                let veritas = '';
                if (archiveSearch.value === '') {
                    inputSearch = true;
                    if (inputSearch) {
                        veritas = true;
                        baseVeritas(veritas);
                    }
                } else {
                    veritas = false;
                    baseVeritas(veritas);
                }
            }
            tart();
        });
    });



    //https://api.jquery.com/toggleClass/#toggleClass-className

    simpleJekyllSearch = new SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '{{base}}/search.json',
        searchResultTemplate: '<li><span class="date">{date}</span><a class="article-link" href="{{base}}{url}">{title}</a></li>',
        noResultsText: "<h4>No Results</h4>",
        fuzzy: false
    });
</script>